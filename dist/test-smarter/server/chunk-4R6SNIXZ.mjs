import './polyfills.server.mjs';
import{$ as L,A as ae,B as c,C as d,Ca as ve,D as Wt,E as st,F as N,G as m,Ga as xt,H as ce,Ha as ye,I as l,J as W,Ja as w,K as r,Ka as Me,L as s,La as Pe,M as p,N as q,O,P as g,Q as at,R as u,S as yt,T as f,U as J,V as Z,W as K,X as T,Y as v,Z as le,_ as ue,a as ie,aa as qt,b as Ut,ba as Mt,c as oe,d as Gt,da as de,e as E,f as P,g as Ht,h as re,ha as pe,i as it,j as Ct,ja as he,k as B,l as H,la as Pt,m as Lt,ma as ct,n as z,na as j,o as $,oa as me,p as C,pa as Jt,q as zt,r as D,ra as ge,s as se,sa as R,t as $t,ta as x,u as A,ua as Ot,v as F,va as b,w as vt,wa as bt,x as ot,xa as fe,y as rt,ya as _e,z as k,za as Ce}from"./chunk-AEG6ZUIY.mjs";import{a as _,b as y}from"./chunk-5XUXGTUW.mjs";var Oe=(()=>{class e{transform(t,i=100,o="..."){return t?t.length>i?t.substring(0,i)+o:t:""}static \u0275fac=function(i){return new(i||e)};static \u0275pipe=se({name:"truncate",type:e,pure:!0,standalone:!0})}return e})();function cn(e,n){e&1&&p(0,"img",10)}var U=(()=>{class e{title="";summary="";author="";defaultProfile="assets/default-avatar.png";defaultCover="assets/cover.png";clickCard;id;authorId;static \u0275fac=function(i){return new(i||e)};static \u0275cmp=C({type:e,selectors:[["app-post-card"]],inputs:{title:"title",summary:"summary",author:"author",defaultProfile:"defaultProfile",defaultCover:"defaultCover",clickCard:"clickCard",id:"id",authorId:"authorId"},standalone:!0,features:[v],decls:16,vars:12,consts:[[1,"card",3,"click"],[1,"card-photo"],["alt","image",3,"src"],[1,"card-title"],[1,"title"],[1,"card-text"],[1,"text"],[1,"card-author"],[1,"photo-author"],["src","assets/fi-sr-badge.svg","class","icon",4,"ngIf"],["src","assets/fi-sr-badge.svg",1,"icon"]],template:function(i,o){i&1&&(r(0,"div",0),O("click",function(){return o.clickCard(o.id)}),r(1,"div",1),p(2,"img",2),s(),r(3,"div",3)(4,"p",4),u(5),L(6,"truncate"),s()(),r(7,"div",5)(8,"p",6),u(9),L(10,"truncate"),s()(),r(11,"div",7)(12,"div",8),p(13,"img",2),s(),u(14),m(15,cn,1,0,"img",9),s()()),i&2&&(c(2),l("src",o.defaultCover,k),c(3),f(" ",qt(6,6,o.title,40)," "),c(4),f(" ",qt(10,9,o.summary,60)," "),c(4),l("src",o.defaultProfile,k),c(),f(" ",o.author," "),c(),l("ngIf",o.authorId===1||o.authorId===2||o.authorId===3))},dependencies:[b,x,Oe],styles:[".card[_ngcontent-%COMP%]{border-radius:16px;width:300px;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:4px}.card[_ngcontent-%COMP%]   .card-photo[_ngcontent-%COMP%]{border-radius:16px;width:100%;height:200px}.card[_ngcontent-%COMP%]   .card-photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:16px;width:100%;object-fit:cover}.card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:16px 0 0;font-weight:700;font-size:1.2rem}.card[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin:0;color:#858484;font-size:.9rem;font-style:italic}.card[_ngcontent-%COMP%]   .card-author[_ngcontent-%COMP%]{border-radius:0 0 16px 16px;width:100%;display:flex;align-items:center;gap:4px}.card[_ngcontent-%COMP%]   .card-author[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:16px;height:16px}.card[_ngcontent-%COMP%]   .card-author[_ngcontent-%COMP%]   .photo-author[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px}.card[_ngcontent-%COMP%]   .card-author[_ngcontent-%COMP%]   .photo-author[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:16px;width:100%;object-fit:cover}.card[_ngcontent-%COMP%]:hover{cursor:pointer}"]})}return e})();var be=(()=>{class e{dafaultProfile="assets/default-avatar.png";articles=0;name="";clickChip;id;static \u0275fac=function(i){return new(i||e)};static \u0275cmp=C({type:e,selectors:[["app-chip"]],inputs:{dafaultProfile:"dafaultProfile",articles:"articles",name:"name",clickChip:"clickChip",id:"id"},standalone:!0,features:[v],decls:8,vars:3,consts:[[1,"content-author",3,"click"],["alt","",3,"src"],[1,"content"],[1,"title"],["src","assets/fi-sr-badge.svg",1,"icon"],[1,"subtitle"]],template:function(i,o){i&1&&(r(0,"div",0),O("click",function(){return o.clickChip(o.id)}),p(1,"img",1),r(2,"div",2)(3,"p",3),u(4),p(5,"img",4),s(),r(6,"p",5),u(7),s()()()),i&2&&(c(),l("src",o.dafaultProfile,k),c(3),f(" ",o.name," "),c(3),f("",o.articles," articles"))},dependencies:[b],styles:[".content-author[_ngcontent-%COMP%]{border-radius:64px;display:flex;align-items:center;background-color:#dfe3f6;padding:8px 24px 8px 8px;gap:16px}.content-author[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:36px;height:36px}.content-author[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.content-author[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1rem}.content-author[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:.6rem}.content-author[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:16px;height:16px}@media (min-width: 768px){.content-author[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:56px;height:56px}.content-author[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.content-author[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.2rem}.content-author[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:.8rem}}@media (min-width: 1024px){.content-author[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:56px;height:56px}.content-author[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;display:flex;align-items:center;gap:4px}.content-author[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.2rem}.content-author[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:.8rem}}.content-author[_ngcontent-%COMP%]:hover{cursor:pointer}"]})}return e})();var ln=(e,n,t)=>({"button-icon":e,"button-text":n,"button-text-only":t});function un(e,n){if(e&1&&p(0,"img",4),e&2){let t=g(2);l("src",t.imageButton,k)}}function dn(e,n){if(e&1&&(r(0,"span"),u(1),s()),e&2){let t=g(2);c(),yt(t.name)}}function pn(e,n){if(e&1){let t=q();r(0,"button",1),O("click",function(){A(t);let o=g();return F(o.clickButton())}),m(1,un,1,1,"img",2)(2,dn,2,1,"span",3),s()}if(e&2){let t=g();l("ngClass",ue(3,ln,t.imageButton&&!t.name,t.imageButton&&t.name,!t.imageButton&&t.name)),c(),l("ngIf",t.imageButton),c(),l("ngIf",t.name)}}var I=(()=>{class e{name="";clickButton=()=>{};imageButton;static \u0275fac=function(i){return new(i||e)};static \u0275cmp=C({type:e,selectors:[["app-button"]],inputs:{name:"name",clickButton:"clickButton",imageButton:"imageButton"},standalone:!0,features:[v],decls:1,vars:1,consts:[[3,"ngClass","click",4,"ngIf"],[3,"click","ngClass"],["alt","icon",3,"src",4,"ngIf"],[4,"ngIf"],["alt","icon",3,"src"]],template:function(i,o){i&1&&m(0,pn,3,7,"button",0),i&2&&l("ngIf",o.imageButton||o.name)},dependencies:[b,ge,x],styles:[".button-icon[_ngcontent-%COMP%]{border:none;border-radius:32px;display:flex;justify-content:center;align-items:center;background-color:#dfe3f6;padding:8px 16px}.button-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px}.button-text[_ngcontent-%COMP%]{border:none;border-radius:32px;display:flex;align-items:center;background-color:#dfe3f6;padding:16px 32px;color:#4d65e0;font-size:1rem;gap:8px}.button-text-only[_ngcontent-%COMP%]{border:none;border-radius:32px;display:flex;justify-content:center;align-items:center;background-color:#dfe3f6;padding:16px 32px;color:#4d65e0;font-weight:700;font-size:1rem}button[_ngcontent-%COMP%]:hover{cursor:pointer}"]})}return e})();var Vt=(()=>{class e{baseUrl="https://jsonplaceholder.typicode.com";constructor(){}static \u0275fac=function(i){return new(i||e)};static \u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var S=(()=>{class e{http;apiService;endpoint="/posts";posts=[];filteredPostsSubject=new Ut([]);filteredPosts$=this.filteredPostsSubject.asObservable();searchTermSubject=new Ut("");searchTerm$=this.searchTermSubject.asObservable();constructor(t,i){this.http=t,this.apiService=i}getPostById(t){return this.http.get(`${this.apiService.baseUrl}/${this.endpoint}/${t}`)}getPostsByIds(t){let i=t.map(o=>this.getPostById(o));return P(i)}getCommentsByPostID(t){return this.http.get(`${this.apiService.baseUrl}/${this.endpoint}/${t}/comments`)}getPostsByUserID(t){return this.http.get(`${this.apiService.baseUrl}/${this.endpoint}?userId=${t}`)}getAllPosts(){return this.http.get(`${this.apiService.baseUrl}/${this.endpoint}`)}setFilteredPosts(t){this.filteredPostsSubject.next(t)}setSearchTerm(t){this.searchTermSubject.next(t)}static \u0275fac=function(i){return new(i||e)($(bt),$(Vt))};static \u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var G=(()=>{class e{http;apiService;endpoint="/users";users=[];constructor(t,i){this.http=t,this.apiService=i}getUserById(t){return this.http.get(`${this.apiService.baseUrl}/${this.endpoint}/${t}`)}getUsersByIds(t){let i=t.map(o=>this.getUserById(o));return P(i)}static \u0275fac=function(i){return new(i||e)($(bt),$(Vt))};static \u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function mn(e,n){if(e&1&&p(0,"app-post-card",11),e&2){let t=n.$implicit,i=n.index,o=g();l("author",t.user.name)("authorId",t.user.id)("title",t.title)("summary",t.body)("clickCard",o.clickPost)("id",i)}}function gn(e,n){if(e&1&&p(0,"app-chip",12),e&2){let t=n.$implicit,i=n.index,o=g();l("clickChip",o.clickAuthor)("name",t.name)("id",t.id)("articles",o.postCounts[i].count)}}function fn(e,n){if(e&1&&p(0,"app-post-card",11),e&2){let t=n.$implicit,i=n.index,o=g();l("author",t.user.name)("authorId",t.user.id)("title",t.title)("summary",t.body)("clickCard",o.clickPost)("id",i)}}function _n(e,n){if(e&1&&p(0,"app-button",13),e&2){let t=g();l("clickButton",t.load)}}var Ve=(()=>{class e{router;postsService;usersService;posts=[];postsRecents=[];allIds=[];currentIndex;batchSize;loading=!1;allLoaded=!1;topUser=[];postCounts=[];constructor(t,i,o){this.router=t,this.postsService=i,this.usersService=o,this.currentIndex=0,this.batchSize=10}ngOnInit(){this.initializeIds(),this.load(),this.loadTopUsers()}initializeIds=()=>{this.allIds=Array.from({length:100},(t,i)=>i+1),this.shuffle(this.allIds)};shuffle=t=>{for(let i=t.length-1;i>0;i--){let o=Math.floor(Math.random()*(i+1));[t[i],t[o]]=[t[o],t[i]]}};load=()=>{if(this.allLoaded||this.loading||!this.allIds)return;this.loading=!0;let t=this.allIds.slice(this.currentIndex,this.currentIndex+this.batchSize);this.postsService.getPostsByIds(t).pipe(it(i=>{let o=i.map(a=>this.usersService.getUserById(a.userId).pipe(E(h=>y(_({},a),{user:h}))));return P(o)})).subscribe({next:i=>{this.posts=[...this.posts,...i],this.postsService.posts=[...this.posts,...i],this.currentIndex+=this.batchSize,this.loading=!1,this.currentIndex>=this.allIds.length&&(this.allLoaded=!0)},error:i=>{console.error("Error loading posts or users:",i),this.loading=!1}})};loadTopUsers=()=>{let t=[1,2,3],i=t.map(a=>this.usersService.getUserById(a).pipe(re(1),Ht(h=>(console.error(`Error getting user with ID ${a}:`,h),Gt(null)))));P(i).subscribe(a=>{this.topUser=a});let o=t.map(a=>this.postsService.getPostsByUserID(a).pipe(E(h=>({userId:a,count:h.length})),Ht(h=>(console.error(`Error getting posts from user with ID ${a}:`,h),Gt({userId:a,count:0})))));P(o).subscribe(a=>{this.postCounts=a})};clickPost=t=>{this.router.navigate(["/post",this.posts[t].id])};clickAuthor=t=>{this.router.navigate(["/author",t])};static \u0275fac=function(i){return new(i||e)(d(w),d(S),d(G))};static \u0275cmp=C({type:e,selectors:[["app-blog-explorer"]],standalone:!0,features:[v],decls:23,vars:8,consts:[[1,"description"],[1,"content"],[1,"content-title"],[1,"carousel-container"],[1,"carousel-track"],[3,"author","authorId","title","summary","clickCard","id",4,"ngFor","ngForOf"],[1,"content-chips"],[3,"clickChip","name","id","articles",4,"ngFor","ngForOf"],[1,"content-cards"],[1,"pagination"],["name","Load More",3,"clickButton",4,"ngIf"],[3,"author","authorId","title","summary","clickCard","id"],[3,"clickChip","name","id","articles"],["name","Load More",3,"clickButton"]],template:function(i,o){i&1&&(r(0,"main")(1,"p",0),u(2," Welcome to our space of care and support. Here, we believe that well-being begins with short breaks, good reflections and sincere conversations. This is a place to take a deep breath, reconnect with yourself and find inspiration for a lighter and more balanced life. Make yourself at home \u2014 you are not alone on this journey \u{1F49A} "),s(),r(3,"div",1)(4,"p",2),u(5,"Recent blog post"),s(),r(6,"div",3)(7,"div",4),m(8,mn,1,6,"app-post-card",5),L(9,"slice"),s()()(),r(10,"div",1)(11,"p",2),u(12,"Top voices"),s(),r(13,"div",6),m(14,gn,1,4,"app-chip",7),s()(),r(15,"div",1)(16,"p",2),u(17,"Articles"),s(),r(18,"div",8),m(19,fn,1,6,"app-post-card",5),s()(),r(20,"div",1)(21,"div",9),m(22,_n,1,1,"app-button",10),s()()()),i&2&&(c(8),l("ngForOf",Mt(9,4,o.posts,0,5)),c(6),l("ngForOf",o.topUser),c(5),l("ngForOf",o.posts),c(3),l("ngIf",!o.allLoaded))},dependencies:[U,b,R,x,Ot,be,I],styles:[".description[_ngcontent-%COMP%]{color:#858484;font-size:1rem;font-style:italic;text-indent:2rem;text-align:justify;hyphens:auto}.content[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.4rem}.content[_ngcontent-%COMP%]   .content-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:16px;justify-items:center}@media (min-width: 768px){.content[_ngcontent-%COMP%]   .content-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px){.content[_ngcontent-%COMP%]   .content-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(300px,1fr))}}.content[_ngcontent-%COMP%]   .carousel-container[_ngcontent-%COMP%]{overflow-x:auto;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch;overflow-y:hidden}.content[_ngcontent-%COMP%]   .carousel-track[_ngcontent-%COMP%]{display:flex;gap:24px;scroll-snap-type:x mandatory;scroll-behavior:smooth}.content[_ngcontent-%COMP%]   app-post-card[_ngcontent-%COMP%]{width:100%;flex:0 0 auto;scroll-snap-align:start;max-width:300px}.content[_ngcontent-%COMP%]   .content-chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:24px}.content[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{margin-top:16px;display:flex;justify-content:center}"]})}return e})();var Ne=(()=>{class e{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||e)(d(Wt),d(rt))}}static{this.\u0275dir=D({type:e})}}return e})(),Cn=(()=>{class e extends Ne{static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=vt(e)))(o||e)}})()}static{this.\u0275dir=D({type:e,features:[N]})}}return e})(),Nt=new z("");var vn={provide:Nt,useExisting:B(()=>Bt),multi:!0};function yn(){let e=Jt()?Jt().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var Mn=new z(""),Bt=(()=>{class e extends Ne{constructor(t,i,o){super(t,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!yn())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||e)(d(Wt),d(rt),d(Mn,8))}}static{this.\u0275dir=D({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&O("input",function(h){return o._handleInput(h.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(h){return o._compositionEnd(h.target.value)})},features:[T([vn]),N]})}}return e})();function Be(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}var Tt=new z(""),Te=new z(""),Pn=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function On(e){return Be(e.value)?{required:!0}:null}function bn(e){return Be(e.value)||Pn.test(e.value)?null:{email:!0}}function De(e){return null}function je(e){return e!=null}function Re(e){return de(e)?oe(e):e}function Ue(e){let n={};return e.forEach(t=>{n=t!=null?_(_({},n),t):n}),Object.keys(n).length===0?null:n}function Ge(e,n){return n.map(t=>t(e))}function xn(e){return!e.validate}function He(e){return e.map(n=>xn(n)?n:t=>n.validate(t))}function Vn(e){if(!e)return null;let n=e.filter(je);return n.length==0?null:function(t){return Ue(Ge(t,n))}}function Kt(e){return e!=null?Vn(He(e)):null}function Dn(e){if(!e)return null;let n=e.filter(je);return n.length==0?null:function(t){let i=Ge(t,n).map(Re);return P(i).pipe(E(Ue))}}function Xt(e){return e!=null?Dn(He(e)):null}function we(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function wn(e){return e._rawValidators}function In(e){return e._rawAsyncValidators}function Zt(e){return e?Array.isArray(e)?e:[e]:[]}function It(e,n){return Array.isArray(e)?e.includes(n):e===n}function Ie(e,n){let t=Zt(n);return Zt(e).forEach(o=>{It(t,o)||t.push(o)}),t}function Se(e,n){return Zt(n).filter(t=>!It(e,t))}var St=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Kt(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Xt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},tt=class extends St{get formDirective(){return null}get path(){return null}},ft=class extends St{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Et=class{constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Sn={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Yi=y(_({},Sn),{"[class.ng-submitted]":"isSubmitted"}),jt=(()=>{class e extends Et{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||e)(d(ft,2))}}static{this.\u0275dir=D({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&W("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[N]})}}return e})(),Le=(()=>{class e extends Et{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||e)(d(tt,10))}}static{this.\u0275dir=D({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&W("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[N]})}}return e})();var dt="VALID",wt="INVALID",Y="PENDING",pt="DISABLED",et=class{},At=class extends et{constructor(n,t){super(),this.value=n,this.source=t}},mt=class extends et{constructor(n,t){super(),this.pristine=n,this.source=t}},gt=class extends et{constructor(n,t){super(),this.touched=n,this.source=t}},Q=class extends et{constructor(n,t){super(),this.status=n,this.source=t}};function ze(e){return(Rt(e)?e.validators:e)||null}function En(e){return Array.isArray(e)?Kt(e):e||null}function $e(e,n){return(Rt(n)?n.asyncValidators:e)||null}function An(e){return Array.isArray(e)?Xt(e):e||null}function Rt(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function Fn(e,n,t){let i=e.controls;if(!(n?Object.keys(i):i).length)throw new Ct(1e3,"");if(!i[t])throw new Ct(1001,"")}function kn(e,n,t){e._forEachChild((i,o)=>{if(t[o]===void 0)throw new Ct(1002,"")})}var Ft=class{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ct(()=>this.statusReactive()),this.statusReactive=st(void 0),this._pristine=ct(()=>this.pristineReactive()),this.pristineReactive=st(!0),this._touched=ct(()=>this.touchedReactive()),this.touchedReactive=st(!1),this._events=new ie,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return j(this.statusReactive)}set status(n){j(()=>this.statusReactive.set(n))}get valid(){return this.status===dt}get invalid(){return this.status===wt}get pending(){return this.status==Y}get disabled(){return this.status===pt}get enabled(){return this.status!==pt}get pristine(){return j(this.pristineReactive)}set pristine(n){j(()=>this.pristineReactive.set(n))}get dirty(){return!this.pristine}get touched(){return j(this.touchedReactive)}set touched(n){j(()=>this.touchedReactive.set(n))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(Ie(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(Ie(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(Se(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(Se(n,this._rawAsyncValidators))}hasValidator(n){return It(this._rawValidators,n)}hasAsyncValidator(n){return It(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(y(_({},n),{sourceControl:i})),t&&n.emitEvent!==!1&&this._events.next(new gt(!0,i))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=n.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:i})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,i),t&&n.emitEvent!==!1&&this._events.next(new gt(!1,i))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(y(_({},n),{sourceControl:i})),t&&n.emitEvent!==!1&&this._events.next(new mt(!1,i))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=n.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,i),t&&n.emitEvent!==!1&&this._events.next(new mt(!0,i))}markAsPending(n={}){this.status=Y;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Q(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(y(_({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=pt,this.errors=null,this._forEachChild(o=>{o.disable(y(_({},n),{onlySelf:!0}))}),this._updateValue();let i=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new At(this.value,i)),this._events.next(new Q(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(y(_({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=dt,this._forEachChild(i=>{i.enable(y(_({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(y(_({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===dt||this.status===Y)&&this._runAsyncValidator(i,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new At(this.value,t)),this._events.next(new Q(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(y(_({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pt:dt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=Y,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=Re(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,o)=>i&&i._find(o),this)}getError(n,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,i){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||i)&&this._events.next(new Q(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,i)}_initObservables(){this.valueChanges=new ot,this.statusChanges=new ot}_calculateStatus(){return this._allControlsDisabled()?pt:this.errors?wt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Y)?Y:this._anyControlsHaveStatus(wt)?wt:dt}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let i=!this._anyControlsDirty(),o=this.pristine!==i;this.pristine=i,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),o&&this._events.next(new mt(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new gt(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Rt(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=En(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=An(this._rawAsyncValidators)}},kt=class extends Ft{constructor(n,t,i){super(ze(t),$e(i,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,i={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){kn(this,!0,n),Object.keys(n).forEach(i=>{Fn(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(Object.keys(n).forEach(i=>{let o=this.controls[i];o&&o.patchValue(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((i,o)=>{i.reset(n?n[o]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,i)=>(n[i]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&n(i,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&n(i))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(t,i,o)=>((i.enabled||this.disabled)&&(t[o]=i.value),t))}_reduceChildren(n,t){let i=n;return this._forEachChild((o,a)=>{i=t(i,o,a)}),i}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var Yt=new z("CallSetDisabledState",{providedIn:"root",factory:()=>Qt}),Qt="always";function Nn(e,n){return[...n.path,e]}function We(e,n,t=Qt){qe(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),Tn(e,n),Rn(e,n),jn(e,n),Bn(e,n)}function Ee(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function Bn(e,n){if(n.valueAccessor.setDisabledState){let t=i=>{n.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function qe(e,n){let t=wn(e);n.validator!==null?e.setValidators(we(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let i=In(e);n.asyncValidator!==null?e.setAsyncValidators(we(i,n.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let o=()=>e.updateValueAndValidity();Ee(n._rawValidators,o),Ee(n._rawAsyncValidators,o)}function Tn(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&Je(e,n)})}function jn(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&Je(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function Je(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Rn(e,n){let t=(i,o)=>{n.valueAccessor.writeValue(i),o&&n.viewToModelUpdate(i)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function Un(e,n){e==null,qe(e,n)}function Gn(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function Hn(e){return Object.getPrototypeOf(e.constructor)===Cn}function Ln(e,n){e._syncPendingControls(),n.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function zn(e,n){if(!n)return null;Array.isArray(n);let t,i,o;return n.forEach(a=>{a.constructor===Bt?t=a:Hn(a)?i=a:o=a}),o||i||t||null}var $n={provide:tt,useExisting:B(()=>te)},ht=Promise.resolve(),te=(()=>{class e extends tt{get submitted(){return j(this.submittedReactive)}constructor(t,i,o){super(),this.callSetDisabledState=o,this._submitted=ct(()=>this.submittedReactive()),this.submittedReactive=st(!1),this._directives=new Set,this.ngSubmit=new ot,this.form=new kt({},Kt(t),Xt(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ht.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),We(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ht.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ht.then(()=>{let i=this._findContainer(t.path),o=new kt({});Un(o,t),i.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ht.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){ht.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),Ln(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(i){return new(i||e)(d(Tt,10),d(Te,10),d(Yt,8))}}static{this.\u0275dir=D({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&O("submit",function(h){return o.onSubmit(h)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[T([$n]),N]})}}return e})();function Ae(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function Fe(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Wn=class extends Ft{constructor(n=null,t,i){super(ze(t),$e(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Rt(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Fe(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Ae(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Ae(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){Fe(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var qn={provide:ft,useExisting:B(()=>_t)},ke=Promise.resolve(),_t=(()=>{class e extends ft{constructor(t,i,o,a,h,M){super(),this._changeDetectorRef=h,this.callSetDisabledState=M,this.control=new Wn,this._registered=!1,this.name="",this.update=new ot,this._parent=t,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=zn(this,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Gn(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){We(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){ke.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,o=i!==0&&Pt(i);ke.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Nn(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||e)(d(tt,9),d(Tt,10),d(Te,10),d(Nt,10),d(he,8),d(Yt,8))}}static{this.\u0275dir=D({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[T([qn]),N,$t]})}}return e})(),Ze=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=D({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return e})();var Ke=(()=>{class e{constructor(){this._validator=De}ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):De,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=D({type:e,features:[$t]})}}return e})();var Jn={provide:Tt,useExisting:B(()=>ee),multi:!0};var ee=(()=>{class e extends Ke{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Pt,this.createValidator=t=>On}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=vt(e)))(o||e)}})()}static{this.\u0275dir=D({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&ce("required",o._enabled?"":null)},inputs:{required:"required"},features:[T([Jn]),N]})}}return e})();var Zn={provide:Tt,useExisting:B(()=>ne),multi:!0},ne=(()=>{class e extends Ke{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=Pt,this.createValidator=t=>bn}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=vt(e)))(o||e)}})()}static{this.\u0275dir=D({type:e,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[T([Zn]),N]})}}return e})();var Kn=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=zt({type:e})}static{this.\u0275inj=Lt({})}}return e})();var nt=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Yt,useValue:t.callSetDisabledState??Qt}]}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=zt({type:e})}static{this.\u0275inj=Lt({imports:[Kn]})}}return e})();var Ye=(()=>{class e{postsService;router;value="";onChange=t=>{};onTouched=()=>{};allPosts=[];filteredPosts=[];constructor(t,i){this.postsService=t,this.router=i}writeValue=t=>{this.value=t};registerOnChange=t=>{this.onChange=t};registerOnTouched=t=>{this.onTouched=t};setDisabledState=t=>{};ngOnInit(){this.postsService.getAllPosts().subscribe(t=>{this.allPosts=t,this.postsService.setFilteredPosts(t)})}onInputChange=t=>{let o=t.target.value;this.value=o;let a=o.toLowerCase().trim(),h=this.allPosts.filter(M=>M.title.toLowerCase().includes(a));this.postsService.setFilteredPosts(h),this.postsService.setSearchTerm(a)};onBlur=()=>{this.onTouched()};onKeyUp=t=>{t.target.value.trim().length===0?this.router.navigate([""]):this.router.navigate(["/search"])};static \u0275fac=function(i){return new(i||e)(d(S),d(w))};static \u0275cmp=C({type:e,selectors:[["app-input-search"]],standalone:!0,features:[T([{provide:Nt,useExisting:B(()=>e),multi:!0}]),v],decls:1,vars:1,consts:[["type","text","name","searchArticle","placeholder","Enter article search",3,"input","blur","keyup","value"]],template:function(i,o){i&1&&(r(0,"input",0),O("input",function(h){return o.onInputChange(h)})("blur",function(){return o.onBlur()})("keyup",function(h){return o.onKeyUp(h)}),s()),i&2&&l("value",o.value)},styles:["input[_ngcontent-%COMP%]{border-radius:36px;width:220px;padding:8px}"]})}return e})();function Xn(e,n){if(e&1&&p(0,"app-button",4),e&2){let t=g();l("clickButton",t.toggleInputSearch)}}function Yn(e,n){if(e&1){let t=q();r(0,"app-input-search",5),K("ngModelChange",function(o){A(t);let a=g();return Z(a.searchText,o)||(a.searchText=o),F(o)}),s()}if(e&2){let t=g();J("ngModel",t.searchText)}}var Qe=(()=>{class e{router;elementRef;clickSearch=()=>{};searchText="";showInputSearch=!1;constructor(t,i){this.router=t,this.elementRef=i}onClickOutside(t){!this.elementRef.nativeElement.contains(t.target)&&this.showInputSearch&&this.searchText.trim()===""&&(this.showInputSearch=!1)}toggleInputSearch=()=>{this.showInputSearch=!this.showInputSearch};goExplorer=()=>{this.router.navigate([""])};static \u0275fac=function(i){return new(i||e)(d(w),d(rt))};static \u0275cmp=C({type:e,selectors:[["app-header"]],hostBindings:function(i,o){i&1&&O("click",function(h){return o.onClickOutside(h)},!1,ae)},inputs:{clickSearch:"clickSearch"},standalone:!0,features:[v],decls:5,vars:2,consts:[[1,"header"],[1,"header-title",3,"click"],["imageButton","assets/fi-br-search.svg",3,"clickButton",4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["imageButton","assets/fi-br-search.svg",3,"clickButton"],[3,"ngModelChange","ngModel"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"p",1),O("click",function(){return o.goExplorer()}),u(2,"Blog"),s(),m(3,Xn,1,1,"app-button",2)(4,Yn,1,1,"app-input-search",3),s()),i&2&&(c(3),l("ngIf",!o.showInputSearch),c(),l("ngIf",o.showInputSearch))},dependencies:[I,b,x,Ye,nt,jt,_t],styles:[".header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.6rem}.header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]:hover{cursor:pointer}"]})}return e})();var tn=(()=>{class e{title="test-smarter";search(){}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=C({type:e,selectors:[["app-root"]],standalone:!0,features:[v],decls:3,vars:1,consts:[[3,"clickSearch"]],template:function(i,o){i&1&&(r(0,"main"),p(1,"app-header",0)(2,"router-outlet"),s()),i&2&&(c(),l("clickSearch",o.search))},dependencies:[ye,Qe,nt],styles:["main[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;padding:16px;overflow:hidden;overscroll-behavior:none}"]})}return e})();function Qn(e,n){if(e&1&&p(0,"app-post-card",9),e&2){let t=n.$implicit,i=n.index,o=g(2);l("author",t.user.name)("authorId",t.user.id)("title",t.title)("summary",t.body)("clickCard",o.clickPost)("id",i)}}function ti(e,n){if(e&1&&p(0,"app-button",10),e&2){let t=g(2);l("clickButton",t.load)}}function ei(e,n){if(e&1&&(r(0,"main",2)(1,"div",3)(2,"p",4),u(3),s(),r(4,"div",5),m(5,Qn,1,6,"app-post-card",6),s()(),r(6,"div",3)(7,"div",7),m(8,ti,1,1,"app-button",8),s()()()),e&2){let t=g();c(3),f("Search '",t.searchTerm,"'"),c(2),l("ngForOf",t.posts),c(3),l("ngIf",!t.allLoaded)}}function ni(e,n){e&1&&(r(0,"main",11)(1,"div",3),p(2,"img",12),r(3,"p",4),u(4,"Search not found"),s(),r(5,"p",13),u(6,"We've searched more than 100 articles"),s(),r(7,"p",13),u(8,"We did not found any article for your search"),s()()())}var en=(()=>{class e{postsService;usersServices;router;filteredPosts=[];allLoaded=!1;posts=[];postsRecents=[];allIds=[];currentIndex;batchSize;loading=!1;topUser=[];postCounts=[];searchTerm="";constructor(t,i,o){this.postsService=t,this.usersServices=i,this.router=o,this.currentIndex=0,this.batchSize=10}ngOnInit(){this.postsService.searchTerm$.subscribe(t=>{this.searchTerm=t,this.postsService.filteredPosts$.subscribe(i=>{this.filteredPosts=i,this.posts=[],this.currentIndex=0,this.allLoaded=!1,this.load()})})}load=()=>{if(this.allLoaded||this.loading||!this.filteredPosts)return;this.loading=!0;let i=this.filteredPosts.slice(this.currentIndex,this.currentIndex+this.batchSize).map(o=>this.usersServices.getUserById(o.userId).pipe(E(a=>y(_({},o),{user:a}))));P(i).subscribe({next:o=>{this.posts=[...this.posts,...o],this.currentIndex+=this.batchSize,this.loading=!1,this.currentIndex>=this.filteredPosts.length&&(this.allLoaded=!0)},error:o=>{console.error("Error loading posts or users:",o),this.loading=!1}})};clickPost=t=>{this.router.navigate(["/post",this.posts[t].id])};static \u0275fac=function(i){return new(i||e)(d(S),d(G),d(w))};static \u0275cmp=C({type:e,selectors:[["app-blog-search-articles"]],standalone:!0,features:[v],decls:2,vars:2,consts:[["class","content-search",4,"ngIf"],["class","content-search-not-found",4,"ngIf"],[1,"content-search"],[1,"content"],[1,"content-title"],[1,"content-cards"],[3,"author","authorId","title","summary","clickCard","id",4,"ngFor","ngForOf"],[1,"pagination"],["name","Load More",3,"clickButton",4,"ngIf"],[3,"author","authorId","title","summary","clickCard","id"],["name","Load More",3,"clickButton"],[1,"content-search-not-found"],["src","assets/notfound.png","alt",""],[1,"text"]],template:function(i,o){i&1&&m(0,ei,9,3,"main",0)(1,ni,9,0,"main",1),i&2&&(l("ngIf",o.posts.length>0),c(),l("ngIf",o.posts.length===0))},dependencies:[b,R,x,U,I],styles:[".content-search-not-found[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.content-search-not-found[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:280px}.content-search-not-found[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.4rem;text-align:center}.content-search-not-found[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin:0;color:#858484;font-size:1.2rem;text-align:center}.content-search[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.4rem}.content-search[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:16px;justify-items:center}@media (min-width: 768px){.content-search[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px){.content-search[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(300px,1fr))}}.content-search[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .carousel-container[_ngcontent-%COMP%]{overflow-x:auto;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch;overflow-y:hidden}.content-search[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .carousel-track[_ngcontent-%COMP%]{display:flex;gap:24px;scroll-snap-type:x mandatory;scroll-behavior:smooth}.content-search[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   app-post-card[_ngcontent-%COMP%]{width:100%;flex:0 0 auto;scroll-snap-align:start;max-width:300px}.content-search[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:24px}.content-search[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{margin-top:16px;display:flex;justify-content:center}"]})}return e})();var ii=e=>["/author",e];function oi(e,n){e&1&&p(0,"br")}function ri(e,n){if(e&1&&(r(0,"div",35),p(1,"img",24),r(2,"div",25)(3,"p",26),u(4),s(),r(5,"p",28),u(6,"Sep, 23, 2023"),s(),r(7,"p",28),u(8),s(),m(9,oi,1,0,"br",36),s()()),e&2){let t=n.$implicit,i=n.index,o=g();c(4),yt(t.name),c(4),f(" ",t.body," "),c(),l("ngIf",i<o.post.comments.length-1)}}function si(e,n){e&1&&(r(0,"div",37)(1,"p"),u(2,"Name is required"),s()())}function ai(e,n){e&1&&(r(0,"div")(1,"p"),u(2,"Email is required"),s()())}function ci(e,n){e&1&&(r(0,"div")(1,"p"),u(2,"Invalid format email"),s()())}function li(e,n){if(e&1&&(r(0,"div",37),m(1,ai,3,0,"div",36)(2,ci,3,0,"div",36),s()),e&2){g();let t=at(27);c(),l("ngIf",t.errors==null?null:t.errors.required),c(),l("ngIf",t.errors==null?null:t.errors.email)}}function ui(e,n){e&1&&p(0,"img",38)}function di(e,n){if(e&1&&p(0,"app-post-card",39),e&2){let t=n.$implicit,i=g();l("author",t.user.name)("authorId",t.user.id)("title",t.title)("summary",t.body)("clickCard",i.clickPost)("id",t.id)}}var nn=(()=>{class e{route;router;postsService;usersService;id="";defaultCover="assets/cover.png";post={id:0,title:"",body:"",user:{name:"",email:"",id:0},comments:[{name:"",email:"",body:""}]};posts=[];routeSub;commentData={comment:"",name:"",email:""};totalUserPosts=0;constructor(t,i,o,a){this.route=t,this.router=i,this.postsService=o,this.usersService=a}ngOnInit(){this.route.paramMap.pipe(it(t=>{let i=t.get("id");if(!i)throw new Error('"id" parameter is required');let o=parseInt(i,10);return this.postsService.getPostById(o).pipe(it(a=>{let h=a.userId;return P({post:this.postsService.getPostById(o),user:this.usersService.getUserById(h),comments:this.postsService.getCommentsByPostID(o),userPosts:this.postsService.getPostsByUserID(h)})}))})).subscribe({next:({post:t,user:i,comments:o,userPosts:a})=>{this.post=y(_({},t),{user:i,comments:o}),this.totalUserPosts=a.length,this.posts=this.postsService.posts},error:t=>{console.error("Error loading data: ",t)}})}ngOnDestroy(){this.routeSub&&this.routeSub.unsubscribe()}sendComment=t=>{if(t.valid){let i={name:this.commentData.name,email:this.commentData.email,body:this.commentData.comment};this.post.comments.push(i),t.resetForm()}else console.log("Invalid Form!")};clickPost=t=>{this.router.navigate(["/post",t])};static \u0275fac=function(i){return new(i||e)(d(xt),d(w),d(S),d(G))};static \u0275cmp=C({type:e,selectors:[["app-blog-post"]],standalone:!0,features:[v],decls:53,vars:25,consts:[["commentForm","ngForm"],["name","ngModel"],["email","ngModel"],[1,"content-post"],[1,"post"],[1,"post-image"],["alt","image",3,"src"],[1,"post-title"],[1,"post-text"],[1,"post-comment"],["class","info-comment",4,"ngFor","ngForOf"],[3,"ngSubmit"],[1,"comment-form"],["name","comment","placeholder","Comment","required","",1,"comment",3,"ngModelChange","ngModel"],[1,"input-info-group"],[1,"input-name"],["type","text","name","name","placeholder","Name","required","",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],[1,"input-email"],["type","email","name","email","placeholder","Email","required","","email","",3,"ngModelChange","ngModel"],["name","Send reply","type","submit",1,"comment-button"],[1,"content-lateral"],[1,"content-title"],[1,"info-author"],["src","assets/default-avatar.png","alt",""],[1,"info"],[1,"author-name"],["src","assets/fi-sr-badge.svg","class","icon",4,"ngIf"],[1,"author-email"],["src","assets/fi-br-envelope.svg",1,"icon"],["src","assets/fi-br-document.svg",1,"icon"],[3,"routerLink"],[1,"recomends"],[1,"content-cards"],[3,"author","authorId","title","summary","clickCard","id",4,"ngFor","ngForOf"],[1,"info-comment"],[4,"ngIf"],[1,"error"],["src","assets/fi-sr-badge.svg",1,"icon"],[3,"author","authorId","title","summary","clickCard","id"]],template:function(i,o){if(i&1){let a=q();r(0,"main",3)(1,"div",4)(2,"div",5),p(3,"img",6),s(),r(4,"div",7)(5,"p"),u(6),s()(),r(7,"div",8)(8,"p"),u(9),s()(),r(10,"div",9)(11,"p"),u(12,"Comments"),s(),m(13,ri,10,3,"div",10),r(14,"form",11,0),O("ngSubmit",function(){A(a);let M=at(15);return F(o.sendComment(M))}),r(16,"p"),u(17,"Leave a reply"),s(),r(18,"div",12)(19,"textarea",13),K("ngModelChange",function(M){return A(a),Z(o.commentData.comment,M)||(o.commentData.comment=M),F(M)}),s(),r(20,"div",14)(21,"div",15)(22,"input",16,1),K("ngModelChange",function(M){return A(a),Z(o.commentData.name,M)||(o.commentData.name=M),F(M)}),s(),m(24,si,3,0,"div",17),s(),r(25,"div",18)(26,"input",19,2),K("ngModelChange",function(M){return A(a),Z(o.commentData.email,M)||(o.commentData.email=M),F(M)}),s(),m(28,li,3,2,"div",17),s()(),p(29,"app-button",20),s()()()(),r(30,"div",21)(31,"p",22),u(32,"Author"),s(),r(33,"div",23),p(34,"img",24),r(35,"div",25)(36,"p",26),u(37),m(38,ui,1,0,"img",27),s(),r(39,"p",28),p(40,"img",29),u(41),s(),r(42,"p",28),p(43,"img",30),u(44),r(45,"a",31),u(46,"see more"),s()()()(),r(47,"div",32)(48,"p",22),u(49,"Suggestions for you"),s(),r(50,"div",33),m(51,di,1,6,"app-post-card",34),L(52,"slice"),s()()()()}if(i&2){let a=at(23),h=at(27);c(3),l("src",o.defaultCover,k),c(3),f(" ",o.post.title," "),c(3),f(" ",o.post.body," "),c(4),l("ngForOf",o.post.comments),c(6),J("ngModel",o.commentData.comment),c(3),W("invalid",a.invalid&&a.touched),J("ngModel",o.commentData.name),c(2),l("ngIf",a.invalid&&a.touched),c(2),W("invalid",h.invalid&&h.touched),J("ngModel",o.commentData.email),c(2),l("ngIf",h.invalid&&h.touched),c(9),f(" ",o.post.user.name," "),c(),l("ngIf",o.post.user.id===1||o.post.user.id===2||o.post.user.id===3),c(3),f(" ",o.post.user.email," "),c(3),f(" ",o.totalUserPosts," Articles "),c(),l("routerLink",le(23,ii,o.post.user.id)),c(6),l("ngForOf",Mt(52,19,o.posts,0,3))}},dependencies:[U,b,R,x,Ot,Me,I,nt,Ze,Bt,jt,Le,ee,ne,_t,te],styles:[".content-post[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.content-post[_ngcontent-%COMP%]   .post[_ngcontent-%COMP%]{width:100%}.content-post[_ngcontent-%COMP%]   .post[_ngcontent-%COMP%]   .post-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:16px;width:100%;object-fit:cover}.content-post[_ngcontent-%COMP%]   .post[_ngcontent-%COMP%]   .post-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.6rem}.content-post[_ngcontent-%COMP%]   .post[_ngcontent-%COMP%]   .post-text[_ngcontent-%COMP%]{color:#585858;font-family:system-ui;font-size:1rem;font-style:normal;text-align:justify;hyphens:auto;text-indent:2rem}.content-post[_ngcontent-%COMP%]   .post[_ngcontent-%COMP%]   .post-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.content-post[_ngcontent-%COMP%]   .post[_ngcontent-%COMP%]   .post-comment[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem}.content-post[_ngcontent-%COMP%]   .post[_ngcontent-%COMP%]   .post-comment[_ngcontent-%COMP%]   .info-comment[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.content-post[_ngcontent-%COMP%]   .post[_ngcontent-%COMP%]   .post-comment[_ngcontent-%COMP%]   .info-comment[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:44px;height:44px}.content-post[_ngcontent-%COMP%]   .post[_ngcontent-%COMP%]   .post-comment[_ngcontent-%COMP%]   .info-comment[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:16px;height:16px}.content-post[_ngcontent-%COMP%]   .post[_ngcontent-%COMP%]   .post-comment[_ngcontent-%COMP%]   .info-comment[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.content-post[_ngcontent-%COMP%]   .post[_ngcontent-%COMP%]   .post-comment[_ngcontent-%COMP%]   .info-comment[_ngcontent-%COMP%]   .author-name[_ngcontent-%COMP%]{margin:0 8px;font-weight:700;font-size:1rem}.content-post[_ngcontent-%COMP%]   .post[_ngcontent-%COMP%]   .post-comment[_ngcontent-%COMP%]   .info-comment[_ngcontent-%COMP%]   .author-email[_ngcontent-%COMP%]{margin:8px;color:#858484;font-weight:400;font-size:.8rem;font-style:italic}.content-post[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.content-post[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]{height:60px}.content-post[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .content-post[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:2px solid #ccc;border-radius:16px;padding:16px;color:#858484;font-family:Arial,Helvetica,sans-serif;resize:none}.content-post[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin-bottom:16px}.content-post[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .input-info-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:8px}.content-post[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .input-info-group[_ngcontent-%COMP%]   .input-name[_ngcontent-%COMP%], .content-post[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .input-info-group[_ngcontent-%COMP%]   .input-email[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.content-post[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .input-info-group[_ngcontent-%COMP%]   .input-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .content-post[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .input-info-group[_ngcontent-%COMP%]   .input-email[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0 0 8px}.content-post[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .input-info-group[_ngcontent-%COMP%]   .input-name[_ngcontent-%COMP%]   .invalid[_ngcontent-%COMP%], .content-post[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .input-info-group[_ngcontent-%COMP%]   .input-email[_ngcontent-%COMP%]   .invalid[_ngcontent-%COMP%]{border:1px solid red}.content-post[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .input-info-group[_ngcontent-%COMP%]   .input-name[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%], .content-post[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .input-info-group[_ngcontent-%COMP%]   .input-email[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red;font-size:.6em}.content-post[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .comment-button[_ngcontent-%COMP%]{margin-top:16px;display:flex;justify-content:flex-end;align-items:center}.content-post[_ngcontent-%COMP%]   .content-lateral[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.content-post[_ngcontent-%COMP%]   .content-lateral[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem}.content-post[_ngcontent-%COMP%]   .content-lateral[_ngcontent-%COMP%]   .info-author[_ngcontent-%COMP%]{display:flex;align-items:center}.content-post[_ngcontent-%COMP%]   .content-lateral[_ngcontent-%COMP%]   .info-author[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:80px;height:80px}.content-post[_ngcontent-%COMP%]   .content-lateral[_ngcontent-%COMP%]   .info-author[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:16px;height:16px}.content-post[_ngcontent-%COMP%]   .content-lateral[_ngcontent-%COMP%]   .info-author[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.content-post[_ngcontent-%COMP%]   .content-lateral[_ngcontent-%COMP%]   .info-author[_ngcontent-%COMP%]   .author-name[_ngcontent-%COMP%]{margin:8px;font-weight:700;font-size:1rem}.content-post[_ngcontent-%COMP%]   .content-lateral[_ngcontent-%COMP%]   .info-author[_ngcontent-%COMP%]   .author-email[_ngcontent-%COMP%]{margin:8px;color:#858484;font-size:.8rem;font-style:italic}.content-post[_ngcontent-%COMP%]   .content-lateral[_ngcontent-%COMP%]   .recomends[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem}.content-post[_ngcontent-%COMP%]   .content-lateral[_ngcontent-%COMP%]   .recomends[_ngcontent-%COMP%]   .content-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:16px;justify-items:center}@media (min-width: 768px){.content-post[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-between;gap:48px}.content-post[_ngcontent-%COMP%]   .post[_ngcontent-%COMP%]   .post-image[_ngcontent-%COMP%]{border-radius:16px;height:360px;overflow:hidden}.content-post[_ngcontent-%COMP%]   .post[_ngcontent-%COMP%]   .post-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;display:block;object-fit:cover}.content-post[_ngcontent-%COMP%]   .post[_ngcontent-%COMP%]   .post-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.8rem}.content-post[_ngcontent-%COMP%]   .post[_ngcontent-%COMP%]   .post-text[_ngcontent-%COMP%]{color:#585858;font-family:system-ui;font-size:1.2rem;font-style:normal;text-align:justify;hyphens:auto;text-indent:2rem}.content-post[_ngcontent-%COMP%]   .post[_ngcontent-%COMP%]   .post-comment[_ngcontent-%COMP%]{font-weight:700;font-size:1.4rem}.content-post[_ngcontent-%COMP%]   .content-lateral[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.content-post[_ngcontent-%COMP%]   .content-lateral[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.4rem}.content-post[_ngcontent-%COMP%]   .content-lateral[_ngcontent-%COMP%]   .info-author[_ngcontent-%COMP%]{display:flex;align-items:center}.content-post[_ngcontent-%COMP%]   .content-lateral[_ngcontent-%COMP%]   .info-author[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:80px;height:80px}.content-post[_ngcontent-%COMP%]   .content-lateral[_ngcontent-%COMP%]   .info-author[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:16px;height:16px}.content-post[_ngcontent-%COMP%]   .content-lateral[_ngcontent-%COMP%]   .info-author[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.content-post[_ngcontent-%COMP%]   .content-lateral[_ngcontent-%COMP%]   .info-author[_ngcontent-%COMP%]   .author-name[_ngcontent-%COMP%]{margin:8px;font-weight:700;font-size:1.2rem}.content-post[_ngcontent-%COMP%]   .content-lateral[_ngcontent-%COMP%]   .info-author[_ngcontent-%COMP%]   .author-email[_ngcontent-%COMP%]{margin:8px;color:#858484;font-size:.8rem;font-style:italic}.content-post[_ngcontent-%COMP%]   .content-lateral[_ngcontent-%COMP%]   .recomends[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.4rem}.content-post[_ngcontent-%COMP%]   .content-lateral[_ngcontent-%COMP%]   .recomends[_ngcontent-%COMP%]   .content-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:16px;justify-items:center}}@media (min-width: 1024px){.content-post[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .input-info-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;gap:8px}}"]})}return e})();function pi(e,n){e&1&&p(0,"img",18)}function hi(e,n){if(e&1&&p(0,"app-post-card",19),e&2){let t=n.$implicit,i=n.index,o=g();l("author",o.user.name)("authorId",o.user.id)("title",t.title)("summary",t.body)("clickCard",o.clickPost)("id",i)}}function mi(e,n){if(e&1&&p(0,"app-button",20),e&2){let t=g();l("clickButton",t.load)}}var on=(()=>{class e{route;router;postsService;usersService;id="";posts=[];postsUser=[];postsRecents=[];allIds=[];currentIndex;batchSize;loading=!1;allLoaded=!1;topUser=[];postCounts=0;post={id:0,title:"",body:"",user:{name:"",email:"",address:{city:""}},comments:[{id:0,name:"",email:"",body:""}]};user={name:"",email:"",address:{city:""}};constructor(t,i,o,a){this.route=t,this.router=i,this.postsService=o,this.usersService=a,this.currentIndex=0,this.batchSize=10}ngOnInit(){if(this.id=this.route.snapshot.paramMap.get("id"),!this.id)throw new Error('Par\xE2metro "id" \xE9 obrigat\xF3rio');let t=parseInt(this.id);this.usersService.getUserById(t).subscribe(i=>{this.user=i}),this.postsService.getPostsByUserID(t).subscribe(i=>{this.postsUser=i,this.allIds=i.map(o=>o.id),this.load()})}load=()=>{if(this.allLoaded||this.loading)return;this.loading=!0;let i=this.postsUser.slice(this.currentIndex,this.currentIndex+this.batchSize).map(o=>P({user:this.usersService.getUserById(o.userId),comments:this.postsService.getCommentsByPostID(o.id)}).pipe(E(({user:a,comments:h})=>y(_({},o),{user:a,comments:h}))));P(i).subscribe({next:o=>{this.posts=[...this.posts,...o],this.currentIndex+=this.batchSize,this.loading=!1,this.postCounts=this.postsUser.length,this.currentIndex>=this.postsUser.length&&(this.allLoaded=!0)},error:o=>{console.error("Error loading posts or users:",o),this.loading=!1}})};clickPost=t=>{this.router.navigate(["/post",this.posts[t].id])};static \u0275fac=function(i){return new(i||e)(d(xt),d(w),d(S),d(G))};static \u0275cmp=C({type:e,selectors:[["app-blog-author-profile"]],standalone:!0,features:[v],decls:26,vars:7,consts:[[1,"content-author"],[1,"author-header"],["src","assets/default-avatar.png","alt",""],[1,"info"],[1,"author-name"],["src","assets/fi-sr-badge.svg","class","icon",4,"ngIf"],[1,"author-location"],["src","assets/fi-br-marker.svg",1,"icon"],[1,"author-email"],["src","assets/fi-br-envelope.svg",1,"icon"],["src","assets/fi-br-document.svg",1,"icon"],[1,"author-bio"],[1,"content"],[1,"content-title"],[1,"content-cards"],[3,"author","authorId","title","summary","clickCard","id",4,"ngFor","ngForOf"],[1,"pagination"],["name","Load More",3,"clickButton",4,"ngIf"],["src","assets/fi-sr-badge.svg",1,"icon"],[3,"author","authorId","title","summary","clickCard","id"],["name","Load More",3,"clickButton"]],template:function(i,o){i&1&&(r(0,"main",0)(1,"header",1),p(2,"img",2),r(3,"div",3)(4,"p",4),u(5),m(6,pi,1,0,"img",5),s(),r(7,"p",6),p(8,"img",7),u(9),s(),r(10,"p",8),p(11,"img",9),u(12),s(),r(13,"p",8),p(14,"img",10),u(15),s(),r(16,"p",11),u(17," Jexper sakjdonf sjdijaipdjsa fioajfiojfa sfnojaofso "),s()()(),r(18,"div",12)(19,"p",13),u(20,"Publications"),s(),r(21,"div",14),m(22,hi,1,6,"app-post-card",15),s()(),r(23,"div",12)(24,"div",16),m(25,mi,1,1,"app-button",17),s()()()),i&2&&(c(5),f(" ",o.user.name," "),c(),l("ngIf",o.user.id===1||o.user.id===2||o.user.id===3),c(3),f(" ",o.user.address.city," "),c(3),f(" ",o.user.email," "),c(3),f(" ",o.postCounts," Articles "),c(7),l("ngForOf",o.posts),c(3),l("ngIf",!o.allLoaded))},dependencies:[U,b,R,x,I],styles:[".content-author[_ngcontent-%COMP%]   .author-header[_ngcontent-%COMP%]{display:flex;gap:16px}.content-author[_ngcontent-%COMP%]   .author-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:80px;height:80px}.content-author[_ngcontent-%COMP%]   .author-header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:16px;height:16px}.content-author[_ngcontent-%COMP%]   .author-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.content-author[_ngcontent-%COMP%]   .author-header[_ngcontent-%COMP%]   .author-name[_ngcontent-%COMP%]{margin:8px;font-weight:700;font-size:1.2rem}.content-author[_ngcontent-%COMP%]   .author-header[_ngcontent-%COMP%]   .author-location[_ngcontent-%COMP%]{margin:8px;font-size:1rem}.content-author[_ngcontent-%COMP%]   .author-header[_ngcontent-%COMP%]   .author-email[_ngcontent-%COMP%], .content-author[_ngcontent-%COMP%]   .author-header[_ngcontent-%COMP%]   .author-bio[_ngcontent-%COMP%]{margin:8px;color:#858484;font-size:.8rem;font-style:italic}@media (min-width: 768px){.content-author[_ngcontent-%COMP%]   .author-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:120px;height:120px}.content-author[_ngcontent-%COMP%]   .author-header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:16px;height:16px}.content-author[_ngcontent-%COMP%]   .author-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.content-author[_ngcontent-%COMP%]   .author-header[_ngcontent-%COMP%]   .author-name[_ngcontent-%COMP%]{margin:8px;font-weight:700;font-size:1.4rem}.content-author[_ngcontent-%COMP%]   .author-header[_ngcontent-%COMP%]   .author-location[_ngcontent-%COMP%]{margin:8px;font-size:1.2rem}.content-author[_ngcontent-%COMP%]   .author-header[_ngcontent-%COMP%]   .author-email[_ngcontent-%COMP%], .content-author[_ngcontent-%COMP%]   .author-header[_ngcontent-%COMP%]   .author-bio[_ngcontent-%COMP%]{margin:8px;color:#858484;font-size:1rem;font-style:italic}}.content-author[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.4rem}.content-author[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:16px;justify-items:center}@media (min-width: 768px){.content-author[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px){.content-author[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(300px,1fr))}}.content-author[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{margin-top:16px;display:flex;justify-content:center}"]})}return e})();var rn=[{path:"",component:Ve},{path:"search",component:en},{path:"post/:id",component:nn},{path:"author/:id",component:on}];var sn={providers:[pe({eventCoalescing:!0}),Pe(rn),Ce(),fe()]};var gi={providers:[ve()]},an=me(sn,gi);var fi=()=>_e(tn,an),ir=fi;export{ir as a};
